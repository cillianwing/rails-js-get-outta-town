<nav id="sidebar">
  <ul class="list-unstyled components">
    <li>
      <a href="<%= users_path %>"><i class="fas fa-home"></i> Home</a>
    <li>
      <a id="trips-dropdown" name="<%= @user.id %>" href="#tripsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-suitcase-rolling"></i> Trips</a>
      <ul class="collapse list-unstyled" id="tripsSubmenu">
        <li>
          <a href="/users/<%= @user.id %>/trips" id="user-trips" name="<%= @user.id %>">All My Trips</a>
        </li>
        <li>
          <a href="#" id="user-upcoming-trips" name="<%= @user.id %>">Upcoming Trips</a>
        </li>
        <li>
          <a href="#" id="user-past-trips" name="<%= @user.id %>">Past Trips</a>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-trips-dropdown" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">View Single Trip</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, user_trip_path(@user, trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>        
        <li>
          <a href="#" id="user-new-trip" name="<%= @user.id %>">Create a New Trip</a>
        </li>
        <li>
          <a href="<%= group_trip_path %>">Join a Group Trip</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="#stopsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fas fa-map-marker-alt"></i> Stops</a>
      <ul class="collapse list-unstyled" id="stopsSubmenu">
        <li>
          <%= link_to "All My Stops", all_stops_path(@user) %>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-trip-stop" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Specific Trip Stops</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, trip_stops_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-new-stop" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add New Stop</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, new_trip_stop_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
      </ul>
    </li>
    <li>
      <a href="#flightsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fas fa-plane"></i> Flights</a>
      <ul class="collapse list-unstyled" id="flightsSubmenu">
        <li>
          <%= link_to "All My Flights", all_flights_path(@user) %>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-trip-flight" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Specific Trip Flights</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, trip_flights_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-new-flight" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add New Flight</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, new_trip_flight_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
      </ul>
    </li>
    <li>
      <a href="#activitiesSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fas fa-hiking"></i> Activities</a>
      <ul class="collapse list-unstyled" id="activitiesSubmenu">
        <li>
          <%= link_to "All My Activities", all_activities_path(@user) %>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-trip-activity" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Specific Trip Activities</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, trip_activities_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-new-activity" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add New Activity</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, new_trip_activity_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
      </ul>
    </li>
    <li>
      <a href="#accommodationsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fas fa-hotel"></i> Accommodations</a>
      <ul class="collapse list-unstyled" id="accommodationsSubmenu">
        <li>
          <%= link_to "All My Accommodations", all_accommodations_path(@user) %>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-trip-accommodation" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Specific Trip Acc.</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, trip_accommodations_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
        <li>
          <div class="dropright">
            <a href="#" id="user-new-accommodation" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add New Accommodation</a>
            <div class="dropdown-menu p-0">
              <h5 class="dropdown-header text-center font-weight-bold">Select Trip</h5>
              <% @user.trips.each do |trip| %>
                <%= link_to trip.title, new_trip_accommodation_path(trip), class: "text-center px-0 border-bottom" %>
              <% end %>
            </div>            
          </div>
        </li>
      </ul>
    </li>
<!--     <li>
      <a href="#reviewsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fas fa-edit"></i> Reviews</a>
      <ul class="collapse list-unstyled" id="reviewsSubmenu">
        <li>
          <a id="">Reviews For Past Trips</a>
        </li>
        <li>
          <a id="">Review One of Your Trips</a>
        </li>
      </ul>
    </li> -->
  </ul>

  <ul class="list-unstyled CTAs">
    <%= link_to '<button id="user-profile" style="width: 100%" class="btn btn-success my-1" type="button">View Profile</button>'.html_safe, user_path(@user) %>
    <%= link_to '<button id="logout" style="width: 100%" class="btn btn-danger my-1" type="button">Logout</button>'.html_safe, logout_path %>
  </ul>
</nav>
